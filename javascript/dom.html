<!DOCTYPE html>
<html>
<head>
	<title>DOM Exercise</title>

<style>

body {
	color:black;
	background: #f0f0f0;
}

.normalDiv {
	border: solid;
    width: 40%;
    margin: auto;
    min-height: 100px;
	/*text-align: center;*/
	background: white;
    /*padding: 30px;*/
    padding-left: 30px;
    padding-bottom: 20px;
}

.leftCard {
    /*margin: auto;*/
    /*margin: 10px;*/
    /*width: 90%;*/
    float: left;
    width: 400px;
    /*max-height: 300px;*/
    height: 450px;
	border-spacing: 10px;
	/*min-height: 50px;*/
    padding: 10px;
    /*border: solid;*/
	text-align: center;
	background: white;
	overflow: scroll;
}

.rightCard {
	float: right;
    width: 425px;
    height: 400px;
	background: white;
	text-align: center;
	margin: 10px;
	border-spacing: 10px;
    padding: 10px;
	border-spacing: 10px;
}

.card {
    /*margin: auto;*/
    margin: 10px;
    width: 90%;
    /*max-width: 400px;*/
    /*max-height: 300px;*/
    min-height: 100px;
	border-spacing: 10px;
	/*min-height: 50px;*/
    padding: 10px;
    /*border: solid;*/
	text-align: center;
	background: #f0f0f0;
}

.card:hover {
	/*background: blue; */
	/*background: #f0f0f0;*/
	background: rgba(240,240,240,0.7);
}

.card:active { 
  background-color: yellow;
}

</style>

</head>
<body>

<!-- 
	normalDiv is defined as a class above inside <style> with a "."
	in front.  used as a class so you can use that style over and over again
 -->

<div id="domDiv" class="normalDiv">
	<h1>Basic DOM</h1>
	<ol id="list01"> This is a list of stuff
		<li a="asdf">Item 1</li>
		<li a="asd">Item 2</li>
		<li>Item 3</li>
	</ol>
	<button id="domShow">Show</button>
	<button id="domAdd">Add</button>
</div>

<h1>Working with Cards</h1>

<div id="leftCard" class="leftCard">
	<button onclick="addDiv()">Add Card</button>
</div>

<div class="rightCard">
	<h1> Right Side </h1>
</div>

<div class="rightCard">
	<h1> Right Side </h1>
</div>

<div class="rightCard">
	<h1> Right Side </h1>
</div>

<script>
/*
		--- Basic DOM ---
*/
	// document.getElementById("leftCard").appendChild(newDiv());
	document.getElementById("domDiv").addEventListener("click", onDomDivClick);
	document.getElementById("domShow").addEventListener("click", onDomShow);
	document.getElementById("domAdd").addEventListener("click", onDomAdd);

	function onDomDivClick(e) {
		console.log("onClick", e);
		// console.log(e.target);
		// console.log(e.target.className);
		// console.log("textContent:",e.target.textContent);
		// console.log(e.target.lfsRef);
	}

	function onDomShow(e) {
		// console.log("onDomShow", e);
		const el = document.getElementById("list01");
		console.log("TextContent:",el.textContent);
		const c = el.childNodes;
		// console.log('Children:',c);
		c.forEach(function(i){
			console.log('  -', i);
		})

	}

	function onDomAdd(e) {
		console.log("onDomAdd", e);
		const list = document.getElementById("list01");
		var li = document.createElement("li");
		li.textContent = 'Another Item';
		list.appendChild(li);

	}

/*
		--- Basic CARDS ---
*/

	let count = 1;
	console.log('Hello World');
	document.getElementById("leftCard").addEventListener("click", onClick);
	// document.addEventListener("click", onClick);
	// document.getElementById("leftCard").appendChild(newDiv());
	
	function onClick(e) {
		// console.log("onClick", e);
		// console.log(e.target);
		// console.log(e.target.className);

		// console.log(e.target.lfsRef);
	}

	function onAddBefore(e) {
		// console.log("onAddBefore");
		let node = e.target.parentElement;
		// console.log(parent);
		node.parentElement.insertBefore(newDiv(),node);
	}

	function onAddAfter(e) {
		// console.log("onAddBefore");
		let node = e.target.parentElement;
		// console.log(node);
		node.parentNode.insertBefore(newDiv(), node.nextSibling);
	}

	function onDelete(e) {
		// console.log("onDelete");
		let node = e.target.parentElement;
		node.parentNode.removeChild(node);
		// console.log(node);
	}

	function addDiv(e) {
		document.getElementById("leftCard").appendChild(newDiv());
	}

	function newDiv() {
		var div = document.createElement("div");
		div.className = "card";
		div.innerHTML = "Card " + count++;
		div.lfsRef = "Larry Shumlich";

		var before = document.createElement("button");
		before.innerHTML = "Add Before";
		before.addEventListener("click", onAddBefore);

		var after = document.createElement("button");
		after.innerHTML = "Add After";
		after.addEventListener("click", onAddAfter);

		var del = document.createElement("button");
		del.innerHTML = "Delete";
		del.addEventListener("click", onDelete);

		div.appendChild(document.createElement("br"));
		div.appendChild(document.createElement("br"));
		div.appendChild(before);
		div.appendChild(document.createTextNode(" "));
		div.appendChild(after);
		div.appendChild(document.createElement("br"));
		div.appendChild(document.createElement("br"));
		div.appendChild(del);
		return div;
	}

</script>
</body>
</html>